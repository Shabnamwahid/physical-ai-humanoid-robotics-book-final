"use strict";(globalThis.webpackChunkphysical_ai_book=globalThis.webpackChunkphysical_ai_book||[]).push([[8169],{422:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"local-development","title":"Local Development Guide","description":"This guide shows how to iterate on the specify CLI locally without publishing a release or committing to main first.","source":"@site/docs/local-development.md","sourceDirName":".","slug":"/local-development","permalink":"/docs/local-development","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/local-development.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Installation Guide","permalink":"/docs/installation"},"next":{"title":"Quick Start Guide","permalink":"/docs/quickstart"}}');var t=i(4848),r=i(8453);const l={},c="Local Development Guide",o={},d=[{value:"1. Clone and Switch Branches",id:"1-clone-and-switch-branches",level:2},{value:"2. Run the CLI Directly (Fastest Feedback)",id:"2-run-the-cli-directly-fastest-feedback",level:2},{value:"3. Use Editable Install (Isolated Environment)",id:"3-use-editable-install-isolated-environment",level:2},{value:"4. Invoke with uvx Directly From Git (Current Branch)",id:"4-invoke-with-uvx-directly-from-git-current-branch",level:2},{value:"4a. Absolute Path uvx (Run From Anywhere)",id:"4a-absolute-path-uvx-run-from-anywhere",level:3},{value:"5. Testing Script Permission Logic",id:"5-testing-script-permission-logic",level:2},{value:"6. Run Lint / Basic Checks (Add Your Own)",id:"6-run-lint--basic-checks-add-your-own",level:2},{value:"7. Build a Wheel Locally (Optional)",id:"7-build-a-wheel-locally-optional",level:2},{value:"8. Using a Temporary Workspace",id:"8-using-a-temporary-workspace",level:2},{value:"9. Debug Network / TLS Skips",id:"9-debug-network--tls-skips",level:2},{value:"10. Rapid Edit Loop Summary",id:"10-rapid-edit-loop-summary",level:2},{value:"11. Cleaning Up",id:"11-cleaning-up",level:2},{value:"12. Common Issues",id:"12-common-issues",level:2},{value:"13. Next Steps",id:"13-next-steps",level:2}];function a(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"local-development-guide",children:"Local Development Guide"})}),"\n",(0,t.jsxs)(n.p,{children:["This guide shows how to iterate on the ",(0,t.jsx)(n.code,{children:"specify"})," CLI locally without publishing a release or committing to ",(0,t.jsx)(n.code,{children:"main"})," first."]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["Scripts now have both Bash (",(0,t.jsx)(n.code,{children:".sh"}),") and PowerShell (",(0,t.jsx)(n.code,{children:".ps1"}),") variants. The CLI auto-selects based on OS unless you pass ",(0,t.jsx)(n.code,{children:"--script sh|ps"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"1-clone-and-switch-branches",children:"1. Clone and Switch Branches"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/github/spec-kit.git\ncd spec-kit\n# Work on a feature branch\ngit checkout -b your-feature-branch\n"})}),"\n",(0,t.jsx)(n.h2,{id:"2-run-the-cli-directly-fastest-feedback",children:"2. Run the CLI Directly (Fastest Feedback)"}),"\n",(0,t.jsx)(n.p,{children:"You can execute the CLI via the module entrypoint without installing anything:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# From repo root\npython -m src.specify_cli --help\npython -m src.specify_cli init demo-project --ai claude --ignore-agent-tools --script sh\n"})}),"\n",(0,t.jsx)(n.p,{children:"If you prefer invoking the script file style (uses shebang):"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"python src/specify_cli/__init__.py init demo-project --script ps\n"})}),"\n",(0,t.jsx)(n.h2,{id:"3-use-editable-install-isolated-environment",children:"3. Use Editable Install (Isolated Environment)"}),"\n",(0,t.jsxs)(n.p,{children:["Create an isolated environment using ",(0,t.jsx)(n.code,{children:"uv"})," so dependencies resolve exactly like end users get them:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Create & activate virtual env (uv auto-manages .venv)\nuv venv\nsource .venv/bin/activate  # or on Windows PowerShell: .venv\\Scripts\\Activate.ps1\n\n# Install project in editable mode\nuv pip install -e .\n\n# Now 'specify' entrypoint is available\nspecify --help\n"})}),"\n",(0,t.jsx)(n.p,{children:"Re-running after code edits requires no reinstall because of editable mode."}),"\n",(0,t.jsx)(n.h2,{id:"4-invoke-with-uvx-directly-from-git-current-branch",children:"4. Invoke with uvx Directly From Git (Current Branch)"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"uvx"})," can run from a local path (or a Git ref) to simulate user flows:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"uvx --from . specify init demo-uvx --ai copilot --ignore-agent-tools --script sh\n"})}),"\n",(0,t.jsx)(n.p,{children:"You can also point uvx at a specific branch without merging:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Push your working branch first\ngit push origin your-feature-branch\nuvx --from git+https://github.com/github/spec-kit.git@your-feature-branch specify init demo-branch-test --script ps\n"})}),"\n",(0,t.jsx)(n.h3,{id:"4a-absolute-path-uvx-run-from-anywhere",children:"4a. Absolute Path uvx (Run From Anywhere)"}),"\n",(0,t.jsxs)(n.p,{children:["If you're in another directory, use an absolute path instead of ",(0,t.jsx)(n.code,{children:"."}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"uvx --from /mnt/c/GitHub/spec-kit specify --help\nuvx --from /mnt/c/GitHub/spec-kit specify init demo-anywhere --ai copilot --ignore-agent-tools --script sh\n"})}),"\n",(0,t.jsx)(n.p,{children:"Set an environment variable for convenience:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'export SPEC_KIT_SRC=/mnt/c/GitHub/spec-kit\nuvx --from "$SPEC_KIT_SRC" specify init demo-env --ai copilot --ignore-agent-tools --script ps\n'})}),"\n",(0,t.jsx)(n.p,{children:"(Optional) Define a shell function:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'specify-dev() { uvx --from /mnt/c/GitHub/spec-kit specify "$@"; }\n# Then\nspecify-dev --help\n'})}),"\n",(0,t.jsx)(n.h2,{id:"5-testing-script-permission-logic",children:"5. Testing Script Permission Logic"}),"\n",(0,t.jsxs)(n.p,{children:["After running an ",(0,t.jsx)(n.code,{children:"init"}),", check that shell scripts are executable on POSIX systems:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ls -l scripts | grep .sh\n# Expect owner execute bit (e.g. -rwxr-xr-x)\n"})}),"\n",(0,t.jsxs)(n.p,{children:["On Windows you will instead use the ",(0,t.jsx)(n.code,{children:".ps1"})," scripts (no chmod needed)."]}),"\n",(0,t.jsx)(n.h2,{id:"6-run-lint--basic-checks-add-your-own",children:"6. Run Lint / Basic Checks (Add Your Own)"}),"\n",(0,t.jsx)(n.p,{children:"Currently no enforced lint config is bundled, but you can quickly sanity check importability:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"python -c \"import specify_cli; print('Import OK')\"\n"})}),"\n",(0,t.jsx)(n.h2,{id:"7-build-a-wheel-locally-optional",children:"7. Build a Wheel Locally (Optional)"}),"\n",(0,t.jsx)(n.p,{children:"Validate packaging before publishing:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"uv build\nls dist/\n"})}),"\n",(0,t.jsx)(n.p,{children:"Install the built artifact into a fresh throwaway environment if needed."}),"\n",(0,t.jsx)(n.h2,{id:"8-using-a-temporary-workspace",children:"8. Using a Temporary Workspace"}),"\n",(0,t.jsxs)(n.p,{children:["When testing ",(0,t.jsx)(n.code,{children:"init --here"})," in a dirty directory, create a temp workspace:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"mkdir /tmp/spec-test && cd /tmp/spec-test\npython -m src.specify_cli init --here --ai claude --ignore-agent-tools --script sh  # if repo copied here\n"})}),"\n",(0,t.jsx)(n.p,{children:"Or copy only the modified CLI portion if you want a lighter sandbox."}),"\n",(0,t.jsx)(n.h2,{id:"9-debug-network--tls-skips",children:"9. Debug Network / TLS Skips"}),"\n",(0,t.jsx)(n.p,{children:"If you need to bypass TLS validation while experimenting:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"specify check --skip-tls\nspecify init demo --skip-tls --ai gemini --ignore-agent-tools --script ps\n"})}),"\n",(0,t.jsx)(n.p,{children:"(Use only for local experimentation.)"}),"\n",(0,t.jsx)(n.h2,{id:"10-rapid-edit-loop-summary",children:"10. Rapid Edit Loop Summary"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Action"}),(0,t.jsx)(n.th,{children:"Command"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Run CLI directly"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"python -m src.specify_cli --help"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Editable install"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"uv pip install -e ."})," then ",(0,t.jsx)(n.code,{children:"specify ..."})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Local uvx run (repo root)"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"uvx --from . specify ..."})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Local uvx run (abs path)"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"uvx --from /mnt/c/GitHub/spec-kit specify ..."})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Git branch uvx"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"uvx --from git+URL@branch specify ..."})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Build wheel"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"uv build"})})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"11-cleaning-up",children:"11. Cleaning Up"}),"\n",(0,t.jsx)(n.p,{children:"Remove build artifacts / virtual env quickly:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"rm -rf .venv dist build *.egg-info\n"})}),"\n",(0,t.jsx)(n.h2,{id:"12-common-issues",children:"12. Common Issues"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Symptom"}),(0,t.jsx)(n.th,{children:"Fix"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"ModuleNotFoundError: typer"})}),(0,t.jsxs)(n.td,{children:["Run ",(0,t.jsx)(n.code,{children:"uv pip install -e ."})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Scripts not executable (Linux)"}),(0,t.jsxs)(n.td,{children:["Re-run init or ",(0,t.jsx)(n.code,{children:"chmod +x scripts/*.sh"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Git step skipped"}),(0,t.jsxs)(n.td,{children:["You passed ",(0,t.jsx)(n.code,{children:"--no-git"})," or Git not installed"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Wrong script type downloaded"}),(0,t.jsxs)(n.td,{children:["Pass ",(0,t.jsx)(n.code,{children:"--script sh"})," or ",(0,t.jsx)(n.code,{children:"--script ps"})," explicitly"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"TLS errors on corporate network"}),(0,t.jsxs)(n.td,{children:["Try ",(0,t.jsx)(n.code,{children:"--skip-tls"})," (not for production)"]})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"13-next-steps",children:"13. Next Steps"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Update docs and run through Quick Start using your modified CLI"}),"\n",(0,t.jsx)(n.li,{children:"Open a PR when satisfied"}),"\n",(0,t.jsxs)(n.li,{children:["(Optional) Tag a release once changes land in ",(0,t.jsx)(n.code,{children:"main"})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>c});var s=i(6540);const t={},r=s.createContext(t);function l(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);